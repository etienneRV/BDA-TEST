<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>BDA Readiness Assessment Tool</title>
  <style>
    :root{
      --accent:#f4b400;
      --border:#e6e6e6;
      --text:#111;
      --muted:#444;
      --card:#fff;
      --bg:#fafafa;
    }
    body{
      font-family: Arial, Helvetica, sans-serif;
      margin: 28px;
      background: var(--bg);
      color: var(--text);
      line-height: 1.45;
    }
    h1{ margin: 0 0 8px; }
    p{ margin: 0 0 14px; color: var(--muted); }

    .intro{
      background: var(--card);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 14px 12px;
      margin-bottom: 18px;
    }
    .intro h2{
      margin: 0 0 8px;
      font-size: 18px;
    }
    .intro ul{
      margin: 10px 0 0;
      padding-left: 18px;
      color: var(--muted);
    }
    .intro li{ margin: 6px 0; }
    .intro .small{ font-size: 14px; margin-top: 10px; color: var(--muted); }

    .category{
      margin: 18px 0;
      border: 1px solid var(--border);
      border-radius: 12px;
      overflow: hidden;
      background: var(--card);
    }
    .category h2{
      margin: 0;
      background: var(--accent);
      padding: 10px 12px;
      font-size: 18px;
      letter-spacing: .2px;
    }

    .q{
      display: grid;
      grid-template-columns: 1fr 280px;
      gap: 14px;
      padding: 14px 12px;
      border-top: 1px solid var(--border);
      align-items: center;
    }
    .q:first-of-type{ border-top:none; }

    .q .text{
      font-size: 16px;
      font-weight: 700;
    }

    select{
      width: 100%;
      padding: 10px 12px;
      border-radius: 10px;
      border: 1px solid #d9d9d9;
      background: #fff;
      font-size: 15px;
      outline: none;
    }
    select:focus{
      border-color:#c9c9c9;
      box-shadow: 0 0 0 3px rgba(244,180,0,.20);
    }

    .scoreBox{
      margin-top: 22px;
      border: 1px solid var(--border);
      background: var(--card);
      border-radius: 12px;
      padding: 14px 12px;
    }
    .scoreTop{
      display:flex;
      flex-wrap:wrap;
      align-items:center;
      justify-content: space-between;
      gap: 10px;
    }
    .scoreTop h2{ margin:0; font-size: 18px; }
    .pill{
      background: var(--accent);
      padding: 6px 10px;
      border-radius: 999px;
      font-weight: 900;
    }
    .small{ color: var(--muted); font-size: 14px; margin-top: 6px; }
    .bar{
      margin-top: 10px;
      height: 12px;
      background: #eee;
      border-radius: 999px;
      overflow: hidden;
      border: 1px solid var(--border);
    }
    .bar > div{
      height: 100%;
      width: 0%;
      background: linear-gradient(90deg, var(--accent), #ffd56a);
      transition: width .25s ease;
    }
    .controls{
      margin-top: 10px;
      display:flex;
      gap: 10px;
      flex-wrap:wrap;
    }
    button{
      padding: 10px 14px;
      border-radius: 10px;
      border: 1px solid #d9d9d9;
      background: #fff;
      font-weight: 800;
      cursor:pointer;
    }
    button:hover{ filter: brightness(.98); }
    .warn{
      margin-top: 10px;
      color: #b00020;
      font-weight: 800;
      display:none;
    }
  </style>
</head>
<body>

<h1>Big Data Analytics (BDA) Capabilities Assessment Tool</h1>

<div class="intro">
  <h2>Welcome</h2>
  <p>
    This tool helps organizations assess readiness to implement Big Data Analytics (BDA) effectively.
    It is informed by the research paper <em>“Exploring the Key Barriers to Big Data Analytics in Europe’s FMCG Sector”</em>,
    which identifies and ranks barriers to BDA adoption in the European FMCG sector.
  </p>
  <p class="small">
    <strong>How to use:</strong> Complete this collaboratively across departments for the most accurate results.
  </p>
  <ul>
    <li><strong>Technology:</strong> IT Department</li>
    <li><strong>Skills:</strong> HR and Data Teams</li>
    <li><strong>Data Quality & Management:</strong> Data Specialists and Process Owners</li>
    <li><strong>Investment:</strong> Finance and Business Strategy Teams</li>
    <li><strong>Organizational Culture:</strong> Senior Management</li>
    <li><strong>Governance & Compliance:</strong> Legal and Compliance Teams</li>
    <li><strong>Collaboration:</strong> Supply Chain Team</li>
  </ul>
  <p class="small">
    Answer each question carefully. The score at the bottom provides an overall BDA readiness indication to guide improvement areas.
  </p>
</div>

<p>Select an answer for each question. Your <strong>BDA Readiness Score</strong> is calculated automatically at the bottom.</p>

<form id="bdaForm">

  <!-- TECHNOLOGY -->
  <section class="category">
    <h2>Technology</h2>

    <div class="q">
      <div class="text">Are there sufficient data storage capabilities to handle increasing data volumes?</div>
      <select class="score-input" required data-weight="0.015" data-constraint="Underdeveloped IT infrastructure">
        <option value="">Select…</option>
        <option value="100">Yes</option>
        <option value="0">No</option>
        <option value="50">Partially</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Can your infrastructure process large datasets in real-time or near real-time?</div>
      <select class="score-input" required data-weight="0.015" data-constraint="Underdeveloped IT infrastructure">
        <option value="">Select…</option>
        <option value="100">Yes</option>
        <option value="0">No</option>
        <option value="50">Partially</option>
      </select>
    </div>

    <div class="q">
      <div class="text">How often do you face downtime or performance issues related to infrastructure?</div>
      <select class="score-input" required data-weight="0.015" data-constraint="Underdeveloped IT infrastructure">
        <option value="">Select…</option>
        <option value="100">Never</option>
        <option value="75">Rarely</option>
        <option value="50">Sometimes</option>
        <option value="25">Often</option>
        <option value="0">Very Often</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Is your IT infrastructure generally sufficient to support your digital initiatives?</div>
      <select class="score-input" required data-weight="0.015" data-constraint="Underdeveloped IT infrastructure">
        <option value="">Select…</option>
        <option value="100">Always</option>
        <option value="75">Mostly</option>
        <option value="50">Sometimes</option>
        <option value="25">Rarely</option>
        <option value="0">Never</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Are data transfers between legacy systems and newer systems automated?</div>
      <select class="score-input" required data-weight="0.024" data-constraint="Outdated legacy system">
        <option value="">Select…</option>
        <option value="100">Yes</option>
        <option value="0">No</option>
        <option value="50">Partially</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Are legacy systems fully compatible with modern data platforms and software?</div>
      <select class="score-input" required data-weight="0.024" data-constraint="Outdated legacy system">
        <option value="">Select…</option>
        <option value="100">Yes</option>
        <option value="0">No</option>
        <option value="50">Partially</option>
      </select>
    </div>
  </section>

  <!-- SKILLS -->
  <section class="category">
    <h2>Skills</h2>

    <div class="q">
      <div class="text">Do you face challenges in recruiting or retaining skilled data professionals?</div>
      <select class="score-input" required data-weight="0.015" data-constraint="Lack of skilled workforce">
        <option value="">Select…</option>
        <option value="100">No challenges</option>
        <option value="75">Minor challenges</option>
        <option value="50">Moderate challenges</option>
        <option value="25">Major challenges</option>
        <option value="0">Severe challenges</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Are there ongoing training programs to develop data-related skills among staff?</div>
      <select class="score-input" required data-weight="0.015" data-constraint="Lack of skilled workforce">
        <option value="">Select…</option>
        <option value="100">Yes</option>
        <option value="0">No</option>
        <option value="50">Planned</option>
      </select>
    </div>

    <div class="q">
      <div class="text">How many employees are proficient in data analysis (machine learning, AI, other big data tools)?</div>
      <select class="score-input" required data-weight="0.015" data-constraint="Lack of skilled workforce">
        <option value="">Select…</option>
        <option value="100">Most</option>
        <option value="75">Many</option>
        <option value="50">Some</option>
        <option value="25">A Few</option>
        <option value="0">None</option>
      </select>
    </div>

    <div class="q">
      <div class="text">How many employees are proficient in data engineering (ETL processes, data cleaning, etc)?</div>
      <select class="score-input" required data-weight="0.015" data-constraint="Lack of skilled workforce">
        <option value="">Select…</option>
        <option value="100">Most</option>
        <option value="75">Many</option>
        <option value="50">Sufficient</option>
        <option value="25">A Few</option>
        <option value="0">None</option>
      </select>
    </div>
  </section>

  <!-- DATA -->
  <section class="category">
    <h2>Data</h2>

    <div class="q">
      <div class="text">How frequently do you encounter data errors, inconsistencies, or missing values?</div>
      <select class="score-input" required data-weight="0.074" data-constraint="Inaccurate data">
        <option value="">Select…</option>
        <option value="100">Never</option>
        <option value="75">Rarely</option>
        <option value="50">Sometimes</option>
        <option value="25">Often</option>
        <option value="0">Very Often</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Are there standard data quality checks or procedures in place?</div>
      <select class="score-input" required data-weight="0.074" data-constraint="Inaccurate data">
        <option value="">Select…</option>
        <option value="100">Yes</option>
        <option value="0">No</option>
        <option value="50">Partially</option>
      </select>
    </div>

    <div class="q">
      <div class="text">How many independent data storage systems are used across departments?</div>
      <select class="score-input" required data-weight="0.054" data-constraint="Siloed data">
        <option value="">Select…</option>
        <option value="100">A Single One</option>
        <option value="75">A Few</option>
        <option value="50">Some</option>
        <option value="25">Many</option>
        <option value="0">Very Many</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Are there initiatives to unify or integrate data systems?</div>
      <select class="score-input" required data-weight="0.054" data-constraint="Siloed data">
        <option value="">Select…</option>
        <option value="100">Yes</option>
        <option value="0">No</option>
        <option value="50">Planned</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Are data extraction, transformation, and loading (ETL) processes automated?</div>
      <select class="score-input" required data-weight="0.053" data-constraint="Inability to integrate data">
        <option value="">Select…</option>
        <option value="100">Fully</option>
        <option value="75">Mostly</option>
        <option value="50">Partially</option>
        <option value="50">Minimally</option>
        <option value="0">Not at all</option>
      </select>
    </div>

    <div class="q">
      <div class="text">How much manual intervention is required for data consolidation?</div>
      <select class="score-input" required data-weight="0.053" data-constraint="Inability to integrate data">
        <option value="">Select…</option>
        <option value="100">None</option>
        <option value="75">Limited</option>
        <option value="50">Moderate</option>
        <option value="25">Significant</option>
        <option value="0">Extensive</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Are metadata (e.g., data source, timestamp, data owner) consistently maintained?</div>
      <select class="score-input" required data-weight="0.099" data-constraint="Contextualisation of data">
        <option value="">Select…</option>
        <option value="100">Consistently</option>
        <option value="75">Frequently</option>
        <option value="50">Sometimes</option>
        <option value="25">Rarely</option>
        <option value="0">Never</option>
      </select>
    </div>
  </section>

  <!-- INVESTMENT -->
  <section class="category">
    <h2>Investment</h2>

    <div class="q">
      <div class="text">Have you identified specific cost savings, revenue increases, or efficiency improvements from BDA projects?</div>
      <select class="score-input" required data-weight="0.040" data-constraint="Unclear ROI">
        <option value="">Select…</option>
        <option value="100">Yes</option>
        <option value="0">No</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Are BDA projects monitored for ROI at regular intervals?</div>
      <select class="score-input" required data-weight="0.040" data-constraint="Unclear ROI">
        <option value="">Select…</option>
        <option value="100">Yes</option>
        <option value="0">No</option>
      </select>
    </div>

    <div class="q">
      <div class="text">How clear are the business objectives linked to BDA projects?</div>
      <select class="score-input" required data-weight="0.040" data-constraint="Unclear ROI">
        <option value="">Select…</option>
        <option value="100">Completely Clear</option>
        <option value="75">Mostly Clear</option>
        <option value="50">Somewhat Clear</option>
        <option value="50">Vague</option>
        <option value="0">Unclear</option>
      </select>
    </div>
  </section>

  <!-- CULTURE -->
  <section class="category">
    <h2>Culture</h2>

    <div class="q">
      <div class="text">Have senior executives committed to support the BDA project?</div>
      <select class="score-input" required data-weight="0.060" data-constraint="Difficulty finding a sponsor">
        <option value="">Select…</option>
        <option value="100">Yes</option>
        <option value="0">No</option>
        <option value="50">Partially</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Are employees and departments generally receptive to adopting new technologies?</div>
      <select class="score-input" required data-weight="0.034" data-constraint="Resistance to change">
        <option value="">Select…</option>
        <option value="100">Highly Receptive</option>
        <option value="75">Moderately Receptive</option>
        <option value="50">Neutral</option>
        <option value="25">Reluctant</option>
        <option value="0">Resistant</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Are change management strategies (e.g., training, communication) in place to reduce resistance?</div>
      <select class="score-input" required data-weight="0.034" data-constraint="Resistance to change">
        <option value="">Select…</option>
        <option value="100">Yes</option>
        <option value="0">No</option>
        <option value="50">Partially</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Are departments reluctant to share data due to competing objectives or priorities?</div>
      <select class="score-input" required data-weight="0.010" data-constraint="Internal competition">
        <option value="">Select…</option>
        <option value="100">Never</option>
        <option value="75">Rarely</option>
        <option value="50">Occasionally</option>
        <option value="25">Frequently</option>
        <option value="0">Always</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Are there clear policies and incentives to encourage cross-departmental collaboration?</div>
      <select class="score-input" required data-weight="0.010" data-constraint="Internal competition">
        <option value="">Select…</option>
        <option value="100">Yes</option>
        <option value="0">No</option>
        <option value="50">Partially</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Are there stakeholders within your organization prioritize projects for their prestige rather than strategic value?</div>
      <select class="score-input" required data-weight="0.022" data-constraint="Prestige-driven projects">
        <option value="">Select…</option>
        <option value="100">None</option>
        <option value="75">A Few</option>
        <option value="50">Some</option>
        <option value="25">Many</option>
        <option value="0">All of them</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Does your organization face challenges due to union opposition when implementing new technologies?</div>
      <select class="score-input" required data-weight="0.008" data-constraint="Union resistance">
        <option value="">Select…</option>
        <option value="100">No</option>
        <option value="50">Occasionally</option>
        <option value="0">Yes</option>
      </select>
    </div>
  </section>

  <!-- GOVERNANCE -->
  <section class="category">
    <h2>Governance</h2>

    <div class="q">
      <div class="text">Does your organization have compliance officers or legal teams focused on data protection?</div>
      <select class="score-input" required data-weight="0.013" data-constraint="Data protection laws">
        <option value="">Select…</option>
        <option value="100">Yes</option>
        <option value="0">No</option>
      </select>
    </div>

    <div class="q">
      <div class="text">Are there specific regulatory requirements that limit data collection, storage, or processing?</div>
      <select class="score-input" required data-weight="0.013" data-constraint="Data protection laws">
        <option value="">Select…</option>
        <option value="100">No</option>
        <option value="0">Yes</option>
      </select>
    </div>
  </section>

  <!-- COLLABORATION -->
  <section class="category">
    <h2>Collaboration</h2>

    <div class="q">
      <div class="text">Are you collaborating with other stakeholders (e.g. vendors, customers, etc) to optimise operations?</div>
      <select class="score-input" required data-weight="0.049" data-constraint="Limited supply chain visibility">
        <option value="">Select…</option>
        <option value="0">Never</option>
        <option value="25">Rarely</option>
        <option value="50">Occasionally</option>
        <option value="75">Often</option>
        <option value="100">Consistently</option>
      </select>
    </div>
  </section>

</form>

<section class="scoreBox" id="scoreBox">
  <div class="scoreTop">
    <h2>BDA Readiness Score</h2>
    <div class="pill" id="scorePill"><span id="scoreText">—</span>/100</div>
  </div>

  <div class="bar" aria-label="Readiness score bar">
    <div id="scoreBar"></div>
  </div>

  <div class="small" id="scoreNote">
    Answer all questions to get your final readiness score.
  </div>

  <div class="warn" id="warnBox">Please answer all questions to calculate the final score.</div>

  <!-- IMPORTANT: This is where the Top 5 Constraints table renders -->
  <div id="constraintsBox" style="margin-top:14px;"></div>

  <div class="controls">
    <button type="button" id="resetBtn">Reset all answers</button>
  </div>
<script>
  const inputs = Array.from(document.querySelectorAll(".score-input"));
  const scoreBar  = document.getElementById("scoreBar");
  const scoreNote = document.getElementById("scoreNote");
  const warnBox   = document.getElementById("warnBox");
  const resetBtn  = document.getElementById("resetBtn");
  const constraintsBox = document.getElementById("constraintsBox");
  const scorePill = document.getElementById("scorePill"); // you have this

  // ---- Helpers ----
  function num(v, fallback=0){
    const n = Number(v);
    return Number.isFinite(n) ? n : fallback;
  }

  function getWeight(el){
    const raw = (el.dataset.weight || "").trim();
    return raw ? num(raw, 1) : 1;
  }

  function getConstraint(el){
    return (el.dataset.constraint || "").trim();
  }

  function getQuestionText(selectEl){
    const q = selectEl.closest(".q");
    const t = q ? q.querySelector(".text") : null;
    return t ? t.textContent.trim() : "Question";
  }

  function escapeHtml(str){
    return String(str)
      .replaceAll("&", "&amp;")
      .replaceAll("<", "&lt;")
      .replaceAll(">", "&gt;")
      .replaceAll('"', "&quot;")
      .replaceAll("'", "&#039;");
  }

  // 0..100 -> dark red .. yellow(≈50) .. green
  // HSL hue: 0=red, 60=yellow, 120=green
  function scoreToColor(score){
    const s = Math.max(0, Math.min(100, Number(score)));
    const hue = 120 * (s / 100);     // 0 red -> 60 yellow -> 120 green
    const sat = 90;                   // strong but clean
    const light = 42;                 // “dark-ish red” and readable yellow/green
    return `hsl(${hue} ${sat}% ${light}%)`;
  }

  function setFinalColors(readiness){
    const c = scoreToColor(readiness);
    scoreBar.style.background = c;
    if (scorePill) scorePill.style.background = c;
  }

  function setProgressColors(){
    // brand/design yellow while incomplete
    scoreBar.style.background = "linear-gradient(90deg, #f4b400, #ffd56a)";
    if (scorePill) scorePill.style.background = "#f4b400";
  }

  function computeScoreAndConstraints() {
    const answered = inputs.filter(sel => sel.value !== "");
    const totalQuestions = inputs.length;
    const isComplete = answered.length === totalQuestions;

    // Nothing answered -> N/A + 0% progress
    if (answered.length === 0) {
      if (scorePill) scorePill.textContent = "N/A";
      scoreBar.style.width = "0%";
      setProgressColors();
      scoreNote.textContent = `Progress (0 / ${totalQuestions} Questions answered).`;
      warnBox.style.display = "none";
      constraintsBox.innerHTML = "";
      return;
    }

    // Weighted readiness score: sum(w*score) / sum(w)
    let wSum = 0;
    let wsSum = 0;

    // Aggregate severity by constraint (no duplicates)
    const constraintAgg = new Map();

    for (const sel of answered) {
      const w = getWeight(sel);
      const s = num(sel.value, 0);

      wSum += w;
      wsSum += w * s;

      const severity = w * (100 - s);
      const label = (getConstraint(sel) || getQuestionText(sel)).trim();

      const prev = constraintAgg.get(label);
      if (!prev) constraintAgg.set(label, { label, severityTotal: severity });
      else prev.severityTotal += severity;
    }

    const readiness = wSum > 0 ? Math.round(wsSum / wSum) : 0;

    // -------------------------
    // INCOMPLETE: pill shows N/A; bar shows progress in yellow
    // -------------------------
    if (!isComplete) {
      const progressPct = Math.round((answered.length / totalQuestions) * 100);

      if (scorePill) scorePill.textContent = "N/A";
      scoreBar.style.width = `${progressPct}%`;
      setProgressColors();

      scoreNote.textContent =
        `Progress (${answered.length} / ${totalQuestions} Questions answered). Final score will appear once all questions are completed.`;
      warnBox.style.display = "block";

      constraintsBox.innerHTML = "";
      return;
    }

    // -------------------------
    // COMPLETE: pill shows score/100; bar shows score + red→yellow→green
    // -------------------------
    if (scorePill) scorePill.innerHTML = `${readiness}/100`;

    scoreBar.style.width = `${readiness}%`;
    setFinalColors(readiness);

    scoreNote.textContent = "Final score calculated (all questions answered).";
    warnBox.style.display = "none";

    // Top 5 unique constraints
    const top5 = Array.from(constraintAgg.values())
      .sort((a, b) => b.severityTotal - a.severityTotal)
      .slice(0, 5);

    constraintsBox.innerHTML = `
      <div style="border:1px solid #e6e6e6;border-radius:12px;overflow:hidden;background:#fff;">
        <div style="background:#8fd0f0;padding:10px 12px;font-weight:900;">
          Top 5 (Weighted) Constraints
        </div>
        <div style="padding:10px 12px;">
          <table style="width:100%;border-collapse:collapse;">
            <thead>
              <tr>
                <th style="text-align:left;padding:8px 6px;">Priority</th>
                <th style="text-align:left;padding:8px 6px;">Constraint</th>
              </tr>
            </thead>
            <tbody>
              ${
                top5.map((item, idx) => `
                  <tr>
                    <td style="padding:8px 6px;font-weight:900;">${idx + 1}</td>
                    <td style="padding:8px 6px;">${escapeHtml(item.label)}</td>
                  </tr>
                `).join("")
              }
            </tbody>
          </table>
          <div style="color:#444;font-size:13px;margin-top:6px;">
            Severity aggregated per constraint: Σ[weight × (100 − score)] across linked questions.
          </div>
        </div>
      </div>
    `;
  }

  inputs.forEach(sel => sel.addEventListener("change", computeScoreAndConstraints));

  resetBtn.addEventListener("click", () => {
    inputs.forEach(sel => sel.value = "");
    computeScoreAndConstraints();
    window.scrollTo({ top: 0, behavior: "smooth" });
  });

  computeScoreAndConstraints();
</script>
